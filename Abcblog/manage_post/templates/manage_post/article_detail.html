
<!-- Heredar de base -->
{% extends 'base/base.html' %}

<!-- Cargar archivos estaticos -->
{% load static %}

<!-- Bloque css -->
{% block css%}
<link rel="stylesheet" href="{% static 'manage_post/post/css/article_detail.css' %}">
{% endblock css%}

<!-- Bloque titulo -->
{% block title %} Post {% endblock title %}

<!-- Bloque contenido -->
{% block content %}

<div class="content-post">
    <div class="post-title line">
        <h2>{{ article.title }}</h2>
    </div>
    <div class="post-introduction line">
        <p>{{ article.introducción }}</p>
    </div>
    <div class="post-author line">
        <!-- Imagen del autor del articulo -->
        {% if article.author.profile %}
        <img src="{{ article.author.profile.photo.url }}" class="img-author" alt="Autor Post">
        {% else %}
        <img src="{% static 'base/image/Default/default-user.png' %}" class="img-author" alt="Autor Post">
        {% endif %}

        <!-- Redirigir al perfil del autor -->
        <div class="post-author line">
            {% if article.author %}

                <span>Autor: <a href="{% url 'view_profile' article.author.pk %}">{{ article.author.full_name }}</a></span>
            {% else %}
                <span>Autor: Anónimo</span>
            {% endif %}
        </div>
    </div>
    <hr>
    <div class="post-image">
        <!-- Imagen del articulo -->
        <img src="{{ article.image.url }}" alt="imagen" class="post-image-img">
    </div>
    <div class="post-body line">
        <p>{{ article.body|safe }}</p>
    </div>
    <hr>
</div>

<!-- Comentarios -->
<h2 class="text-primary">Comentarios</h2>

<!-- Incluir agregar comentarios -->
{% if request.user.is_authenticated %}
{% include 'comments/add_comment.html' %}
{% else %}
<!-- Mensaje si no esta autenticado -->
<p class="alert-post">Para comentar debe iniciar sesion</p>
{% endif %}
<!-- Incluir visualizar comentarios -->
{% include 'comments/comments.html' %}
{% endblock content %}